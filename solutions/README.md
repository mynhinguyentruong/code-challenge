# Coding Challenge Solution: Extract Van Gogh Paintings

This README provides an overview of the steps taken to solve the coding challenge for SerpApi.

## Problem Statement

The goal of this challenge is to extract a list of Van Gogh paintings from the [attached Google search results page](https://github.com/mynhinguyentruong/code-challenge/blob/master/files/van-gogh-paintings.html). The required information includes the painting name, extensions array (date), Google link, and painting thumbnails present in the result page file.

## Technologies Used

- Programming Language: Python
- Web Scraping Tool: Selenium
- HTML Parsing Library: lxml
- Testing Framework: unittest

## Project Structure

- [solutions/](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions): This directory contains all the solution-related files.
- [scripts/](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/scripts): Contains Python scripts related to the solution, such as the `scrape.py` for extracting the html from a url, `find_artworks.py` to extract necessary info and the unit test script `test_find_artworks_unittest.py` for testing .
- [jsons/](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/jsons): Contains the output JSON files generated by the solution script.
- [screenshots/](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/screenshots): Contains screenshots of the Google Search layout for reference.
- [static-html/](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/static-html): Contains HTML files used for testing the solution and scraped by using the `scrape.py` script.

Test case is located [here](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/scripts/test_find_artworks_unittest.py).

## Solution Overview

I approached the problem by utilizing Python along with Selenium for browser automation, site crawling and scraping and lxml for HTML parsing. Selenium allows for automation of a browser as a real user, which was crucial for extracting data from the HTML page, and lxml provides a fast and efficient library for parsing HTML.

Steps I took:
First, identify the classname of the `<div>` container that holds the array of paintings. Then:

- Extract the only `<a>` tag and the value of the `href` attribute to get the value for the `link` property
- Identify the classname of the `<div>` container that holds text content of the painting's name to extract the `name` property
- Identify the classname of the `<div>` container that holds year info to extract year for `extensions` property
- Identify the attribute name for `<img>` to get the value for `image` property

I notice when I scrape Google Search by using Selenium, the layout that I got is different from the one provided by the example. Checkout my [screenshot of the layout](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/screenshots). However, the results of scraping different artists' paintings produced the same layout. To confirm everything work as expected, the solution has been tested against [3 other similar result pages](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/static-html) scraped by Selenium to ensure compatibility.

I can conclude that in a controlled environment, for example a specific virtual machine or on my MacOS, the results of scraping different artists' paintings will produce the same layout with the same classname for `<div>` container we are targeting.

## Steps to Reproduce

To reproduce the solution locally, follow these steps:

1. **Clone the Repository:**

   ```bash
   git clone https://github.com/mynhinguyentruong/code-challenge.git
   ```

2. **Navigate to the Project Directory:**

   ```bash
   cd code-challenge/solutions
   ```

3. **Install Dependencies:**

   ```bash
   pip3 install selenium lxml
   ```

4. **Run the Solution:**

   ```bash
   python3 ./scripts/find_artworks.py
   ```

   Then enter the name for output json file: for example, `sample`

   Check the output json in the [`jsons`](https://github.com/mynhinguyentruong/code-challenge/blob/master/solutions/jsons) directory

5. **Run the Test:**
   In the terminal, at the `solutions` directory, run:

   ```bash
   python3 ./scripts/test_find_artworks_unittest.py
   ```

## Improvements

One potential improvement to enhance the solution further is to incorporate user interaction. For example, by utilizing Selenium's capabilities to simulate user actions, such as clicking the "Show More" button, we can extract additional paintings' information that may not be initially visible on the page. This can provide a more comprehensive dataset for analysis and extraction.

## Author

Nhi Nguyen
